<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Jenkins | 欢乐时光</title>
    <meta name="description" content="full stack developer">
    <link rel="icon" href="/doc/gong.ico">
    
    <link rel="preload" href="/doc/assets/css/0.styles.4e84cc94.css" as="style"><link rel="preload" href="/doc/assets/js/app.914d0180.js" as="script"><link rel="preload" href="/doc/assets/js/2.1cb9a3c0.js" as="script"><link rel="preload" href="/doc/assets/js/3.08d9d62c.js" as="script"><link rel="prefetch" href="/doc/assets/js/10.697aa1d8.js"><link rel="prefetch" href="/doc/assets/js/11.62e61c9b.js"><link rel="prefetch" href="/doc/assets/js/12.1cb7e593.js"><link rel="prefetch" href="/doc/assets/js/13.8c126d0e.js"><link rel="prefetch" href="/doc/assets/js/14.80d5c1f0.js"><link rel="prefetch" href="/doc/assets/js/15.23828660.js"><link rel="prefetch" href="/doc/assets/js/16.af49f84e.js"><link rel="prefetch" href="/doc/assets/js/17.489866b7.js"><link rel="prefetch" href="/doc/assets/js/18.603d27f6.js"><link rel="prefetch" href="/doc/assets/js/19.5ada21ca.js"><link rel="prefetch" href="/doc/assets/js/20.4970fd79.js"><link rel="prefetch" href="/doc/assets/js/21.4d5b0e7a.js"><link rel="prefetch" href="/doc/assets/js/22.a8ddad26.js"><link rel="prefetch" href="/doc/assets/js/23.ae9e935e.js"><link rel="prefetch" href="/doc/assets/js/24.fec5c378.js"><link rel="prefetch" href="/doc/assets/js/25.61b1e4ae.js"><link rel="prefetch" href="/doc/assets/js/26.93a286c9.js"><link rel="prefetch" href="/doc/assets/js/27.a77aeba8.js"><link rel="prefetch" href="/doc/assets/js/28.6ef6aa39.js"><link rel="prefetch" href="/doc/assets/js/29.db1189f6.js"><link rel="prefetch" href="/doc/assets/js/30.a2809d34.js"><link rel="prefetch" href="/doc/assets/js/31.d55975ef.js"><link rel="prefetch" href="/doc/assets/js/32.1410a616.js"><link rel="prefetch" href="/doc/assets/js/33.ec3232db.js"><link rel="prefetch" href="/doc/assets/js/34.71e8287d.js"><link rel="prefetch" href="/doc/assets/js/35.d9b3a4a1.js"><link rel="prefetch" href="/doc/assets/js/36.48a64abc.js"><link rel="prefetch" href="/doc/assets/js/37.065434a8.js"><link rel="prefetch" href="/doc/assets/js/38.f8f21f24.js"><link rel="prefetch" href="/doc/assets/js/39.7f654d96.js"><link rel="prefetch" href="/doc/assets/js/4.69046a5f.js"><link rel="prefetch" href="/doc/assets/js/40.80b3ea56.js"><link rel="prefetch" href="/doc/assets/js/41.e01bac36.js"><link rel="prefetch" href="/doc/assets/js/5.1160325b.js"><link rel="prefetch" href="/doc/assets/js/6.8af3c272.js"><link rel="prefetch" href="/doc/assets/js/7.da2da2c0.js"><link rel="prefetch" href="/doc/assets/js/8.8cea9a04.js"><link rel="prefetch" href="/doc/assets/js/9.5f0f1f3f.js">
    <link rel="stylesheet" href="/doc/assets/css/0.styles.4e84cc94.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/doc/" class="home-link router-link-active"><!----> <span class="site-name">欢乐时光</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc/ppt/" class="nav-link">爬虫</a></div><div class="nav-item"><a href="/doc/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/doc/handle/" class="nav-link">手写系列</a></div><div class="nav-item"><a href="/doc/js/" class="nav-link">JS归纳</a></div><div class="nav-item"><a href="/doc/CI_CD/" class="nav-link router-link-active">CI/CD</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/algorithm/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/doc/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/doc/other/" class="nav-link">Other</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/gzwgq222" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doc/ppt/" class="nav-link">爬虫</a></div><div class="nav-item"><a href="/doc/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/doc/handle/" class="nav-link">手写系列</a></div><div class="nav-item"><a href="/doc/js/" class="nav-link">JS归纳</a></div><div class="nav-item"><a href="/doc/CI_CD/" class="nav-link router-link-active">CI/CD</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/algorithm/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/doc/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/doc/other/" class="nav-link">Other</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/gzwgq222" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/doc/CI_CD/" class="sidebar-link">简介</a></li><li><a href="/doc/CI_CD/jenkins.html" class="active sidebar-link">Jenkins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/CI_CD/jenkins.html#准备" class="sidebar-link">准备</a></li><li class="sidebar-sub-header"><a href="/doc/CI_CD/jenkins.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/doc/CI_CD/jenkins.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/doc/CI_CD/jenkins.html#创建任务" class="sidebar-link">创建任务</a></li><li class="sidebar-sub-header"><a href="/doc/CI_CD/jenkins.html#自动构建" class="sidebar-link">自动构建</a></li><li class="sidebar-sub-header"><a href="/doc/CI_CD/jenkins.html#更新到服务器" class="sidebar-link">更新到服务器</a></li></ul></li><li><a href="/doc/CI_CD/gitlab.html" class="sidebar-link">Gitlab-ci</a></li><li><a href="/doc/CI_CD/travis.html" class="sidebar-link">Travis-ci</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jenkins"><a href="#jenkins" class="header-anchor">#</a> Jenkins</h1> <h2 id="准备"><a href="#准备" class="header-anchor">#</a> 准备</h2> <ol><li>github 账号</li> <li>测试用的 vue 项目</li> <li>一台服务器（个人用的阿里云的 centos7）</li></ol> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <p>因为 jenkins 是用 java 编写的，所以得先在服务器上安装 java。jenkins 只是一个平台，真正运作的都是插件。</p> <ul><li><p>安装 java</p> <div class="language- extra-class"><pre class="language-text"><code>yum install java
</code></pre></div></li> <li><p>安装 jenkins</p> <div class="language- extra-class"><pre class="language-text"><code>// 下载 jenkins
wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo

// 导入 jenkins 的 key
rpm --import https://jenkins-ci.org/redhat/jenkins-ci.org.key

// 安装 Jenkins
yum install jenkins

// 启动 jenkins
service jenkins restart
</code></pre></div><p><code>service jenkins start | stop | restart</code><br>
jenkins 关闭 | 开启 | 重启</p> <p>安装完成对应的目录：<br>
/usr/lib/jenkins/jenkins.war    WAR包<br>
/etc/sysconfig/jenkins          配置文件<br>
/var/lib/jenkins/               默认的JENKINS_HOME目录<br>
/var/log/jenkins/jenkins.log    Jenkins日志文件</p></li></ul> <h2 id="初始化"><a href="#初始化" class="header-anchor">#</a> 初始化</h2> <ul><li><p>解锁<br>
jenkins 默认端口是 8080，可以在配置文件中进行更改。如果你的服务器有开放 8080 端口，那么在浏览器输入 ip:8080 应该就可以访问了。<br>
如果没有开放 8080 端口，则需设置 8080 安全组才可以访问。<br>
服务器上输入 cat /var/lib/jenkins/secrets/initialAdminPassword 查看初始密码<br>
输入密码点击继续
<img src="/doc/assets/img/home.3c7f7ad4.png" alt=""></p></li> <li><p>初始化安装插件<br>
这里我们选择推荐通用插件安装即可，选择后等待完成插件安装以及初始化账户
<img src="/doc/assets/img/plugin.24c7c2de.png" alt=""></p> <p>等待安装
<img src="/doc/assets/img/install.f4e14214.png" alt=""></p></li> <li><p>创建用户
<img src="/doc/assets/img/user.77f2264a.png" alt=""></p></li> <li><p>安装插件<br>
因为我们用来测试的项目是 vue，打包的时候要用到 node，所以得安装 nodeJs 插件。
<img src="/doc/assets/img/node.f748e13c.png" alt=""></p> <p>步骤2的时候输入 nodeJs 选择后再进行步骤3</p> <p><img src="/doc/assets/img/step1.d695d8bf.png" alt=""></p> <p>安装完成后进行配置</p> <p><img src="/doc/assets/img/step2.7885f83c.png" alt=""> <img src="/doc/assets/img/step3.805e7794.png" alt=""></p></li></ul> <h2 id="创建任务"><a href="#创建任务" class="header-anchor">#</a> 创建任务</h2> <ul><li><p>创建
<img src="/doc/assets/img/task1.91dd6e30.png" alt=""></p> <p><img src="/doc/assets/img/task2.36020a21.png" alt=""></p></li> <li><p>添加仓库信息<br>
依次输入 仓库地址 | 账号密码 | 拉取代码的分支（构建的时候就会到配置的仓库拉取最新代码进行构建）
<img src="/doc/assets/img/task3.a17a2cfa.png" alt="">
选择构建环境、添加 shell 脚本。怕 npm install 慢的换可以换成安装 cnpm 的脚本</p> <div class="language- extra-class"><pre class="language-text"><code>node -v
npm install -g cnpm --registry=https://registry.npm.taobao.org
cnpm install
npm run build
</code></pre></div><p><img src="/doc/assets/img/task4.14c8369f.png" alt=""></p></li> <li><p>构建<br>
配置完成后点击立即构建，点击构建任务的 icon 可查看构建详情，待构建完成查看工作空间可看到配置的仓库地址的代码被拉取下来了，且多了 dist 文件</p> <p><img src="/doc/assets/img/build1.476fcaea.png" alt=""></p> <p><img src="/doc/assets/img/build2.dc7a5ad3.png" alt=""></p> <p><img src="/doc/assets/img/build3.28bc3213.png" alt=""></p></li></ul> <p>到这里已经实现了在 jenkins 上创建任务、配置仓库信息、添加 shell 脚本、构建的功能。<br>
这里还是手动构建，接下来实现每次 push 代码到仓库就自动触发构建。</p> <h2 id="自动构建"><a href="#自动构建" class="header-anchor">#</a> 自动构建</h2> <ul><li><p>jenkins 安装 Generic Webhook Trigger 插件</p> <ul><li>系统管理 -&gt; 插件管理 中查看是否安装过 Generic Webhook Trigger 插件，没有则进行安装</li> <li>进入任务 -&gt; 配置 构建触发器勾选 Generic Webhook Trigger，填写任意 token（github 仓库中会用到）
<img src="/doc/assets/img/task5.8fb949b7.png" alt=""></li></ul></li> <li><p>github 添加 webhook<br>
在对应的仓库项目上进行配置（托管在 gitlab 上大同小异），添加的方式上图红框中的三种都可以，此处选择了第一种。选择了 push 的时候触发 webhook（pull request也会触发）</p> <p><img src="/doc/assets/img/task6.6bd553bf.png" alt=""></p> <p>后续自动构建后可在下方查看构建详情（有时候会触发失败，在失败的事件上重新触发就行）</p> <p><img src="/doc/assets/img/task7.9359b89b.png" alt=""></p></li></ul> <p>自动构建配置好了，现在来测试一下。本地修改代码 push 到仓库。可以看到 webhook 给 jenkins 发送了通知，jenkins 构建自动进行了。</p> <p><img src="/doc/assets/img/push.7787d868.png" alt=""></p> <p><img src="/doc/assets/img/push1.d36ada9b.png" alt=""></p> <h2 id="更新到服务器"><a href="#更新到服务器" class="header-anchor">#</a> 更新到服务器</h2> <p>构建完成后当然是需要把打包后的文件推送到服务器上了，这样才是一套完整的 CI 流程
根据 jenkins 服务器和web应用服务器是否为同一台服务器可有不同的处理方式</p> <ul><li>同一台服务器
在构建完成后把文件 cp 或 mv 到指定的web服务器目录（该项目个人放在 /web/dist 目录下）
更改 shell 脚本<div class="language- extra-class"><pre class="language-text"><code>#!/bin/bash
node -v
npm install -g cnpm --registry=https://registry.npm.taobao.org
cnpm install
npm run build
cd dist
cp -r * /web/dist
</code></pre></div></li> <li>不同服务器
使用 Publish Over SSH 插件</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>因为个人的 jenkins 和前端项目都是部署在同一服务器，所以就选择了 cp 这种简单的方式。</p></div> <p>更改 shell 脚本后进行构建，构建报错，查看日志，Permission denied 提示没有权限</p> <p><img src="/doc/assets/img/error.ce00b98b.png" alt=""><br>
服务器上查看 jenkins 配置</p> <div class="language- extra-class"><pre class="language-text"><code>cat /etc/sysconfig/jenkins
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArEAAAGACAIAAAA1dq3vAAAgAElEQVR4Ae3dX6wd9Z0Y8LGLl5TENSG0KiARyxgE0Yo++KEIK6riFiFQjXio+mRnm64MQl2BVYny0gc/VUW8AFqJAl21jd3uS1tFoBBFloi67E3Jg1cNShM2GK/DysCKf/aiWJuFrfubmXPmzDln7j3fe31trr/3c4R858x85/f7fT+/c898z8ycy5YzZ85UHgQIECBAgMCmF9i66QUAECBAgAABArWAmsDrgAABAgQIEKgF1AReBwQIECBAgEAtoCbwOiBAgAABAgRqATWB1wEBAgQIECBQC6gJvA4IECBAgACBWkBN4HVAgAABAgQI1AJqAq8DAgQIECBAoBZQE3gdECBAgAABArWAmsDrgAABAgQIEKgF1AReBwQIECBAgEAtcNWnn346I7F9+/Zrr722rDx79uxNv/+rma2eJhA483tfT5CFFAgQIEBgfQWuWtzcV29aHCPiChL4pP6/Xr3xxhtrGPKdd965hr3sQoAAAQJXhECgJrgi8jDI1Qt861vfWtVOP/rRj1YVL5gAAQIEriwB9xNcWfNltAQIECBA4FIJqAkulax2CRAgQIDAlSWgJriy5stoCRAgQIDApRJIdD/B9Tve+s6O3QGok6+/9zvV9Ut3bVsx9rNn/tN7hz+sqkCzP3j5nfvf3Pb0797w2HUrNlk2vvXhlu+db4Pu/uYN9Rh6axbtbDsBAgQIELiEAolqglbp43MP//Ka5+/aVg78t772WV/uoQdvfv7W0ZH+7m/WW7qYZlPVHNrL6umj+4fnbn3qXL+dFZdL++du+871942Czj/81IcvtMu3X39h/zUnPxoP6fZxUXLr9Rcen22yG9jsBs8JECBAgMAlE7isNUFz6O0dJi9JVtsevK06+fH5p6YLgsGudt91w4W7Jlvu23/zhf2Tp+u7dPffnZyWGJ0haDroH/7H60ODX9/hda19+9vfLsvf/e53uzUWCBAgQGCTCFxETXD1qerGf199+afVha9UZ79Zvf949TdfXl5t+sP38nEXu+W6a+rP6G+de6H5XD5p7eNzz3w0edYudcfjlc4TzO608vNtj33n+qmIqWHUB/v+JYNm+YYLt53bu7Rtaf81ZcduSFONBJ785B+9/w//199vA/vLgV2FECBAgACBWmCtNcHV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+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCQQBRMAAAXfSURBVCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5BdQE+edYhgQIECBAICKgJogoiSFAgAABAvkF1AT551iGBAgQIEAgIqAmiCiJIUCAAAEC+QXUBPnnWIYECBAgQCAioCaIKIkhQIAAAQL5Bf4/BhyNk2tXdVcAAAAASUVORK5CYII=" alt="">
可以看到 JENKINS_USER=jenkins，jenkins 默认设置为 jenkins 用户<br>
更改为 JENKINS_USER=root</p> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/sysconfig/jenkins
</code></pre></div><p><img src="/doc/assets/img/root1.f385b051.png" alt=""></p> <p>重启 jenkins 服务</p> <div class="language- extra-class"><pre class="language-text"><code>service jenkins restart
</code></pre></div><p>点击立即构建手动触发构建，构建完成后服务器对应的目录上应该更新了文件</p> <p><img src="/doc/assets/img/dist.2e79085d.png" alt=""></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2019-11-17 23:35</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/doc/CI_CD/" class="prev router-link-active">简介</a></span> <span class="next"><a href="/doc/CI_CD/gitlab.html">Gitlab-ci</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/doc/assets/js/app.914d0180.js" defer></script><script src="/doc/assets/js/2.1cb9a3c0.js" defer></script><script src="/doc/assets/js/3.08d9d62c.js" defer></script>
  </body>
</html>
